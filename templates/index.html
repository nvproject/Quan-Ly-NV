<!DOCTYPE html>
<html>
<head>
	<title>{{ t }}</title>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='assets/style.css')}}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='assets/emoji.css')}}">
	<script src="{{ url_for('static',filename='assets/twemoji.min.js')}}"></script>  
	<script src="{{ url_for('static',filename='assets/emoji.js')}}"></script>

	<style>
	
	th:nth-child(1), td:nth-child(1) { width: 90px; }/*m√£ nh√¢n vi√™n*/
	th:nth-child(2), td:nth-child(2) { width: 145px; }/*h·ªç v√† t√™n*/
	th:nth-child(3), td:nth-child(3) { width: 170px; }/*email*/
	th:nth-child(4), td:nth-child(4) { width: 80px; }/*ng√†y sinh*/
	th:nth-child(5), td:nth-child(5) { width: 45px; }/*gi·ªõi t√≠nh*/
	th:nth-child(6), td:nth-child(6) { width: 90px; }/*ƒëi·ªán tho·∫°i*/
	th:nth-child(7), td:nth-child(7) { width: 165px; }/*ƒë·ªãa ch·ªâ*/
	th:nth-child(8), td:nth-child(8) { width: 80px; }/*ph√≤ng ban*/
	th:nth-child(9), td:nth-child(9) { width: 80px; }/*ch·ª©c v·ª•*/
	th:nth-child(1), td:nth-child(1), 
	th:nth-child(2), td:nth-child(2), 
	th:nth-child(3), td:nth-child(3), 
	th:nth-child(4), td:nth-child(4), 
	th:nth-child(5), td:nth-child(5), 
	th:nth-child(6), td:nth-child(6),
	th:nth-child(7), td:nth-child(7), 
	th:nth-child(8), td:nth-child(8), 
	th:nth-child(9), td:nth-child(9), 
	th:nth-child(10), td:nth-child(10),
	th:nth-child(11), td:nth-child(11) {
		text-align: center;
	}
	th:nth-child(10), td:nth-child(10) { width: 45px; }/*x√≥a*/
	th:nth-child(11), td:nth-child(11) { width: 60px; }/*chinh s·ª≠a*/

	form.search-form {
		display: inline-block;
		font-size: 13px;
	}
	form.search-form input,
	form.search-form select,
	form.search-form button {
		margin-left: 5px;
	}
	

		body { font-size: 16px; }

		.tab-menu {
			list-style: none;
			padding: 0;
			display: flex;
			gap: 10px;
		}

		.tab-menu li {
			display: inline;
		}

		.tab-menu a {
			text-decoration: none;
			padding: 10px 15px;
			background-color: #eee;
			color: black;
			border-radius: 5px;
		}

		.tab-menu a.active {
			background-color: #3498db;
			color: white;
		}

		.tab-content {
			display: none;
			margin-top: 20px;
		}

		.tab-content.active {
			display: block;
		}

		table th, table td {
			padding: 8px;
			text-align: left;
			font-size: 15px;
		}

		form.search-form {
			display: inline-block;
			font-size: 13px;
		}
	</style>
</head>
<body>
	<h1>{{ h }}</h1>

	<!-- Tabs -->
	<ul class="tab-menu">
		<li><a href="#" class="tab-link active" data-tab="tab1">T·∫•t c·∫£</a></li>
		<li><a href="#" class="tab-link" data-tab="tab2">Th√™m nh√¢n vi√™n</a></li>
	</ul>

	<hr>

	<!-- Tab 1: Danh s√°ch -->
	<div id="tab1" class="tab-content active">
		{% if error %}
			<div class="alert alert-danger">
				<strong>Error!</strong> {{ error }}
			</div>
		{% endif %}

		{% if todos[0] %}
		<div style="text-align: right; margin-bottom: 10px;">
			<form action="/search" method="GET" class="search-form">
				<label><b>T√¨m ki·∫øm:</b></label>
				<select name="refer" required>
					<option value="id">M√£ nh√¢n vi√™n</option>
					<option value="name">H·ªç v√† t√™n</option>
					<option value="desc">Email</option>
					<option value="date">Ng√†y sinh</option>
					<option value="pr">Gi·ªõi t√≠nh</option>
				</select>
				<input type="text" name="key" placeholder="T·ª´ kh√≥a..." size="20" />
				<button type="submit">T√¨m ki·∫øm</button>
			</form>
		</div>

		<b><big>Danh s√°ch nh√¢n vi√™n:</big></b>
		<table>
			<tr id="row">
				<th>M√£ nh√¢n vi√™n</th>
				<th>H·ªç v√† t√™n</th>
				<th>Email</th>
				<th>Ng√†y sinh</th>
				<th>Gi·ªõi t√≠nh</th>
				<th>SƒêT</th>
				<th>ƒê·ªãa ch·ªâ</th>
				<th>Ph√≤ng ban</th>
				<th>Ch·ª©c v·ª•</th>
				<th>X√≥a</th>
				<th>Ch·ªânh s·ª≠a</th>
			</tr>
			{% for todo in todos %}
			<tr class="datas">
				<td>{{ todo["_id"] }}</td>
				<td>{{ todo["name"] }}</td>
				<td>{{ todo["desc"] }}</td>
				<td>{{ todo["date"] }}</td>
				<td>{{ todo["pr"] }}</td>
				<td>{{ todo.get("phone", "") }}</td>
				<td>{{ todo.get("address", "") }}</td>
				<td>{{ todo.get("department", "") }}</td>
				<td>{{ todo.get("position", "") }}</td>
				<td><a href="{{ url_for('remove') }}?_id={{ todo['_id'] | string }}">üóëÔ∏è</a></td>
				<td><a href="./update?_id={{ todo['_id'] }}">üìù</a></td>
			</tr>
			{% endfor %}
		</table>
		{% else %}
		<div class="danger">
			<h4>Kh√¥ng c√≥ trong danh s√°ch!</h4>
		</div>
		{% endif %}
	</div>

	<!-- Tab 2: Form th√™m nh√¢n vi√™n -->
	<div id="tab2" class="tab-content">
		<form action="/action" method="POST">
			<table class="none">
				<tr><td><h2>Th√™m nh√¢n vi√™n</h2></td></tr>
				<tr><td><input type="text" name="name" placeholder="Nh·∫≠p h·ªç v√† t√™n" required /></td></tr>
				<tr><td><textarea name="desc" rows="2" cols="20" placeholder="Nh·∫≠p email" required></textarea></td></tr>
				<tr><td><input type="date" name="date" placeholder="Nh·∫≠p ng√†y sinh" /></td></tr>
				<tr><td>
					<select name="pr" required>
						<option selected disabled value="">Gi·ªõi t√≠nh</option>
						<option value="Nam">Nam</option>
						<option value="N·ªØ">N·ªØ</option>
					</select>
				</td></tr>
				<tr><td><input type="text" name="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" /></td></tr>
				<tr><td><input type="text" name="address" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ" /></td></tr>
				<tr><td><input type="text" name="department" placeholder="Nh·∫≠p ph√≤ng ban" /></td></tr>
				<tr><td><input type="text" name="position" placeholder="Nh·∫≠p ch·ª©c v·ª•" /></td></tr>
				<tr><td><button type="submit">Th√™m</button></td></tr>
			</table>
		</form>
	</div>

	<!-- JavaScript ƒë·ªÉ chuy·ªÉn tab -->
	<script>
		const tabs = document.querySelectorAll('.tab-link');
		const contents = document.querySelectorAll('.tab-content');

		tabs.forEach(tab => {
			tab.addEventListener('click', e => {
				e.preventDefault();

				tabs.forEach(t => t.classList.remove('active'));
				tab.classList.add('active');

				const tabId = tab.dataset.tab;
				contents.forEach(content => {
					content.classList.remove('active');
					if (content.id === tabId) {
						content.classList.add('active');
					}
				});
			});
		});
	</script>
</body>
</html>
